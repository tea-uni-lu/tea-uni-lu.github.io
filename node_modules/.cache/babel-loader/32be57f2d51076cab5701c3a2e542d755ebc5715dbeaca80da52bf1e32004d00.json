{"ast":null,"code":"import _slicedToArray from\"/Users/khan/Documents/GitHub/tea-uni-lu.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../App.css\";import React,{useRef,useState}from'react';import db from'../participants';import Data from\"./data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){// this is the list of participants\nvar _useState=useState(db),_useState2=_slicedToArray(_useState,2),participants=_useState2[0],setParticipants=_useState2[1];// error messages\nvar errors={ID:\"ID not found in the DB\",password:\"Invalid password\"};// error and success messages\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitted=_useState6[0],setSubmitted=_useState6[1];// Error message renderer\nvar renderError=function renderError(name){return name===errorMessage.name&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessage.message});};// Login form\nvar loginForm=/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitted,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Access ID : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ID\",required:true}),renderError(\"ID\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true}),renderError(\"password\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})})]})});var submission=function submission(e){// prevent rendering\ne.preventDefault();var _document$forms$=document.forms[0],ID=_document$forms$.ID,password=_document$forms$.password;var loginInfo=participants.find(function(user){return user.ID===ID.value();});if(loginInfo){if(loginInfo.password!==password.value){setErrorMessage({name:\"password\",message:errors.pass});}else{setSubmitted(true);}setSubmitted(false);}else{setErrorMessage({name:\"ID\",message:errors.ID});setSubmitted(false);}e.reset();return submitted;};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login to access the database\"}),submitted?/*#__PURE__*/_jsx(\"div\",{children:\"Login successful\"}):loginForm]})});}export default Login;","map":{"version":3,"names":["React","useRef","useState","db","Data","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","participants","setParticipants","errors","ID","password","_useState3","_useState4","errorMessage","setErrorMessage","_useState5","_useState6","submitted","setSubmitted","renderError","name","className","children","message","loginForm","onSubmit","type","required","submission","e","preventDefault","_document$forms$","document","forms","loginInfo","find","user","value","pass","reset"],"sources":["/Users/khan/Documents/GitHub/tea-uni-lu.github.io/src/pages/login.js"],"sourcesContent":["import \"../App.css\"\nimport React, { useRef, useState } from 'react'\nimport db from '../participants'\nimport Data from \"./data\"\n\nfunction Login() {\n    // this is the list of participants\n    const [participants, setParticipants] = useState(db);\n    \n    // error messages\n    const errors = {\n        ID: \"ID not found in the DB\",\n        password: \"Invalid password\"\n    }\n\n    // error and success messages\n    const [errorMessage, setErrorMessage] = useState({});\n    const [submitted, setSubmitted] = useState(false);\n\n    // Error message renderer\n    const renderError = (name) =>\n        name === errorMessage.name && (\n            <div className=\"error\">{errorMessage.message}</div>\n        )\n\n    // Login form\n    const loginForm = (\n        <div className=\"form\">\n            <form onSubmit={submitted}>\n                <div className=\"input-container\">\n                    <label>Access ID : </label>\n                    <input type=\"text\" name=\"ID\" required></input>\n                    {renderError(\"ID\")}\n                </div>\n                <div className=\"input-container\">\n                    <label>Password : </label>\n                    <input type=\"password\" name=\"password\" required></input>\n                    {renderError(\"password\")}\n                </div>\n                <div className=\"button-container\">\n                    <input type=\"submit\"></input>\n                </div>\n            </form>\n        </div>\n    );\n\n    const submission = (e) => {\n        // prevent rendering\n        e.preventDefault();\n        \n        var { ID, password } = document.forms[0];\n        const loginInfo = participants.find((user) => user.ID === ID.value());\n        if (loginInfo) {\n            if (loginInfo.password !== password.value){\n                setErrorMessage({ name: \"password\", message: errors.pass });\n            } else {\n                setSubmitted(true);\n            }\n            setSubmitted(false);\n        } else{\n            setErrorMessage({ name: \"ID\", message: errors.ID })\n            setSubmitted(false)\n        }\n\n        e.reset();\n\n        return submitted\n    }\n\n    return (\n        <div className=\"app\">\n          <div className=\"login-form\">\n            <h2>Login to access the database</h2>\n            {submitted ? <div>Login successful</div> : loginForm}\n          </div>\n        </div>\n      );\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}